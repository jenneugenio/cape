# Connector Customer Data

This folder houses a fake "customer" database.

The schema of the customer data is

```
                                                                                     Table "public.transactions"
   Column    |            Type             | Collation | Nullable |                                                             Default
-------------+-----------------------------+-----------+----------+----------------------------------------------------------------------------------------------------------------------------------
 id          | integer                     |           | not null | nextval('transactions_id_seq'::regclass)
 processor   | text                        |           |          |
 timestamp   | timestamp without time zone |           |          | (now() - ((('1 year'::interval * round(random())) - ((- '1 day'::interval) * round((random() * (365)::double precision)))) - ('0
 card_id     | integer                     |           |          |
 card_number | bigint                      |           |          |
 value       | double precision            |           |          |
 ssn         | integer                     |           |          |
 vendor      | text                        |           |          |
Indexes:
    "transactions_pkey" PRIMARY KEY, btree (id)
```

And is seeded with 10,000 rows.

### Seeding

The seed happens in migration 002. That file is generated by `seed.go`.

## Running the migrations

We use [tern](https://github.com/jackc/tern) to run the migrations. 
You can run them (from within this director) with

```sh
tern migrate --port 5431 --migrations .
```