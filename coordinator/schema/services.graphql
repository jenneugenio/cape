type Service implements Identity {
    id: ID!
    email: Email!
    name: Name!
    type: ServiceType!
    endpoint: URL
    created_at: Time!
    updated_at: Time!
    roles: [Role!]
}

input CreateServiceRequest {
    email: Email!
    type: ServiceType!
    endpoint: URL
}

input DeleteServiceRequest {
    id: ID!
}

extend type Query {
    service(id: ID!): Service! @isAuthenticated()
    serviceByEmail(email: Email!): Service! @isAuthenticated()
    services: [Service!] @isAuthenticated()
}

extend type Mutation {
    createService(input: CreateServiceRequest!): Service! @isAuthenticated()
    deleteService(input: DeleteServiceRequest!): String @isAuthenticated()
}

scalar ServiceType
